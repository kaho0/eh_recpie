{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kahon/Downloads/recipe-website-with-api/components/header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/header.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/header.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyR,GACtT,uDACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kahon/Downloads/recipe-website-with-api/components/header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/header.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/header.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqQ,GAClS,mCACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kahon/Downloads/recipe-website-with-api/components/hero.tsx"],"sourcesContent":["interface HeroProps {\n  totalRecipes: number\n  topCategory?: string\n  averageRating?: number\n}\n\nexport default function Hero({ totalRecipes, topCategory, averageRating }: HeroProps) {\n  const stats = [\n    {\n      label: \"Recipes tested\",\n      value: totalRecipes.toLocaleString(),\n    },\n    {\n      label: \"Reader favorite\",\n      value: topCategory ?? \"Seasonal picks\",\n    },\n    {\n      label: \"Average rating\",\n      value: averageRating ? `${averageRating.toFixed(1)} / 5` : \"4.0+\",\n    },\n  ]\n\n  return (\n    <section className=\"w-full bg-accent py-16\">\n      <div className=\"max-w-7xl mx-auto px-4 text-center space-y-8\">\n        <p className=\"text-xs uppercase tracking-[0.3em] text-muted-foreground\">Real recipes, zero fluff</p>\n        <h1 className=\"text-balance text-3xl md:text-5xl font-serif font-bold text-foreground\">\n          Cook smarter with {totalRecipes.toLocaleString()} tried-and-loved recipes.\n        </h1>\n        <p className=\"text-base md:text-lg text-muted-foreground mx-auto max-w-2xl\">\n          Pulled straight from our recipe archive so you can skip the filler posts and get to the good stuff—fast weeknight\n          mains, weekend baking projects, and everything between.\n        </p>\n\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n          {stats.map((stat) => (\n            <div key={stat.label} className=\"bg-background/60 border border-border rounded-lg py-4 px-6\">\n              <p className=\"text-xs uppercase tracking-widest text-muted-foreground mb-1\">{stat.label}</p>\n              <p className=\"text-xl font-semibold text-foreground\">{stat.value}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAMe,SAAS,KAAK,EAAE,YAAY,EAAE,WAAW,EAAE,aAAa,EAAa;IAClF,MAAM,QAAQ;QACZ;YACE,OAAO;YACP,OAAO,aAAa,cAAc;QACpC;QACA;YACE,OAAO;YACP,OAAO,eAAe;QACxB;QACA;YACE,OAAO;YACP,OAAO,gBAAgB,GAAG,cAAc,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG;QAC7D;KACD;IAED,qBACE,8OAAC;QAAQ,WAAU;kBACjB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAE,WAAU;8BAA2D;;;;;;8BACxE,8OAAC;oBAAG,WAAU;;wBAAyE;wBAClE,aAAa,cAAc;wBAAG;;;;;;;8BAEnD,8OAAC;oBAAE,WAAU;8BAA+D;;;;;;8BAK5E,8OAAC;oBAAI,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;4BAAqB,WAAU;;8CAC9B,8OAAC;oCAAE,WAAU;8CAAgE,KAAK,KAAK;;;;;;8CACvF,8OAAC;oCAAE,WAAU;8CAAyC,KAAK,KAAK;;;;;;;2BAFxD,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;AAShC"}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kahon/Downloads/recipe-website-with-api/components/featured-recipes.tsx"],"sourcesContent":["import Image from \"next/image\"\nimport type { Recipe } from \"@/lib/csv-parser\"\n\ninterface FeaturedRecipesProps {\n  recipes: Recipe[]\n}\n\nexport default function FeaturedRecipes({ recipes }: FeaturedRecipesProps) {\n  if (!recipes || recipes.length === 0) {\n    return (\n      <section className=\"py-12 bg-background\">\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"text-center text-muted-foreground\">Loading recipes...</div>\n        </div>\n      </section>\n    )\n  }\n\n  const renderTime = (recipe: Recipe) => {\n    if (recipe.totalTime) return recipe.totalTime\n    if (recipe.totalMinutes) return `${recipe.totalMinutes} mins`\n    return \"Flexible timing\"\n  }\n\n  return (\n    <section className=\"py-12 bg-background\">\n      <div className=\"max-w-7xl mx-auto px-4\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-serif font-semibold text-foreground\">Trending now</h2>\n          <p className=\"text-sm text-muted-foreground\">Pulled directly from the CSV archive</p>\n        </div>\n\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {recipes.map((recipe) => (\n            <a\n              key={recipe.id}\n              href={recipe.url}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              className=\"group flex flex-col rounded-2xl overflow-hidden border border-border hover:border-primary transition\"\n            >\n              <div className=\"relative h-64 w-full overflow-hidden bg-muted\">\n                <Image\n                  src={recipe.image || \"/placeholder.jpg\"}\n                  alt={recipe.title}\n                  fill\n                  className=\"object-cover group-hover:scale-105 transition-transform duration-500\"\n                  sizes=\"(min-width: 1024px) 25vw, (min-width: 640px) 50vw, 100vw\"\n                />\n                <div className=\"absolute top-4 left-4 bg-background/80 text-xs font-semibold px-3 py-1 rounded-full\">\n                  {recipe.primaryCategory}\n                </div>\n              </div>\n              <div className=\"flex flex-col gap-2 p-5\">\n                <p className=\"text-xs text-muted-foreground font-medium uppercase tracking-wide\">Rating {recipe.rating ?? \"—\"}</p>\n                <h3 className=\"text-base font-serif text-foreground group-hover:text-primary transition\">{recipe.title}</h3>\n                <div className=\"flex items-center justify-between text-sm text-muted-foreground mt-auto\">\n                  <span>{renderTime(recipe)}</span>\n                  {recipe.servings && <span>{recipe.servings} servings</span>}\n                </div>\n              </div>\n            </a>\n          ))}\n        </div>\n      </div>\n    </section>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAOe,SAAS,gBAAgB,EAAE,OAAO,EAAwB;IACvE,IAAI,CAAC,WAAW,QAAQ,MAAM,KAAK,GAAG;QACpC,qBACE,8OAAC;YAAQ,WAAU;sBACjB,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BAAoC;;;;;;;;;;;;;;;;IAI3D;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI,OAAO,SAAS,EAAE,OAAO,OAAO,SAAS;QAC7C,IAAI,OAAO,YAAY,EAAE,OAAO,GAAG,OAAO,YAAY,CAAC,KAAK,CAAC;QAC7D,OAAO;IACT;IAEA,qBACE,8OAAC;QAAQ,WAAU;kBACjB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAoD;;;;;;sCAClE,8OAAC;4BAAE,WAAU;sCAAgC;;;;;;;;;;;;8BAG/C,8OAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;4BAEC,MAAM,OAAO,GAAG;4BAChB,QAAO;4BACP,KAAI;4BACJ,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,wIAAK;4CACJ,KAAK,OAAO,KAAK,IAAI;4CACrB,KAAK,OAAO,KAAK;4CACjB,IAAI;4CACJ,WAAU;4CACV,OAAM;;;;;;sDAER,8OAAC;4CAAI,WAAU;sDACZ,OAAO,eAAe;;;;;;;;;;;;8CAG3B,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;;gDAAoE;gDAAQ,OAAO,MAAM,IAAI;;;;;;;sDAC1G,8OAAC;4CAAG,WAAU;sDAA4E,OAAO,KAAK;;;;;;sDACtG,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;8DAAM,WAAW;;;;;;gDACjB,OAAO,QAAQ,kBAAI,8OAAC;;wDAAM,OAAO,QAAQ;wDAAC;;;;;;;;;;;;;;;;;;;;2BAvB1C,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;AAgC5B"}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kahon/Downloads/recipe-website-with-api/components/recipe-of-month.tsx"],"sourcesContent":["import Image from \"next/image\"\nimport type { Recipe } from \"@/lib/csv-parser\"\n\ninterface RecipeOfMonthProps {\n  recipe: Recipe\n}\n\nexport default function RecipeOfMonth({ recipe }: RecipeOfMonthProps) {\n  if (!recipe) {\n    return null\n  }\n\n  const timeCopy = recipe.totalTime || (recipe.totalMinutes ? `${recipe.totalMinutes} mins` : null)\n\n  return (\n    <section className=\"py-16 bg-secondary\">\n      <div className=\"max-w-6xl mx-auto px-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 items-center\">\n          <div>\n            <p className=\"text-xs text-muted-foreground font-medium uppercase tracking-widest mb-4\">\n              Recipe of the Month\n            </p>\n            <h2 className=\"text-3xl md:text-4xl font-serif font-bold text-foreground mb-4 text-balance\">{recipe.title}</h2>\n            <p className=\"text-sm text-muted-foreground mb-6\">\n              Rated {recipe.rating?.toFixed(1) ?? \"4.5\"} stars by real cooks, this dish captures the best of our archive.\n            </p>\n            <p className=\"text-foreground mb-8 text-sm leading-relaxed\">{recipe.description}</p>\n            <div className=\"flex flex-wrap gap-4 text-xs uppercase tracking-wide text-muted-foreground mb-8\">\n              {timeCopy && <span className=\"bg-background/50 px-3 py-1 rounded-full\">⏱ {timeCopy}</span>}\n              {recipe.servings && <span className=\"bg-background/50 px-3 py-1 rounded-full\">{recipe.servings}</span>}\n            </div>\n            <a\n              href={recipe.url}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              className=\"inline-flex items-center justify-center px-6 py-2 bg-primary text-primary-foreground font-medium text-sm hover:bg-primary/90 transition rounded-full\"\n            >\n              Cook this recipe\n            </a>\n          </div>\n\n          <div className=\"relative h-96 rounded-lg overflow-hidden\">\n            <Image\n              src={recipe.image || \"/placeholder.jpg\"}\n              alt={recipe.title}\n              fill\n              className=\"object-cover\"\n              sizes=\"(min-width: 768px) 50vw, 100vw\"\n            />\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAOe,SAAS,cAAc,EAAE,MAAM,EAAsB;IAClE,IAAI,CAAC,QAAQ;QACX,OAAO;IACT;IAEA,MAAM,WAAW,OAAO,SAAS,IAAI,CAAC,OAAO,YAAY,GAAG,GAAG,OAAO,YAAY,CAAC,KAAK,CAAC,GAAG,IAAI;IAEhG,qBACE,8OAAC;QAAQ,WAAU;kBACjB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAE,WAAU;0CAA2E;;;;;;0CAGxF,8OAAC;gCAAG,WAAU;0CAA+E,OAAO,KAAK;;;;;;0CACzG,8OAAC;gCAAE,WAAU;;oCAAqC;oCACzC,OAAO,MAAM,EAAE,QAAQ,MAAM;oCAAM;;;;;;;0CAE5C,8OAAC;gCAAE,WAAU;0CAAgD,OAAO,WAAW;;;;;;0CAC/E,8OAAC;gCAAI,WAAU;;oCACZ,0BAAY,8OAAC;wCAAK,WAAU;;4CAA0C;4CAAG;;;;;;;oCACzE,OAAO,QAAQ,kBAAI,8OAAC;wCAAK,WAAU;kDAA2C,OAAO,QAAQ;;;;;;;;;;;;0CAEhG,8OAAC;gCACC,MAAM,OAAO,GAAG;gCAChB,QAAO;gCACP,KAAI;gCACJ,WAAU;0CACX;;;;;;;;;;;;kCAKH,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,wIAAK;4BACJ,KAAK,OAAO,KAAK,IAAI;4BACrB,KAAK,OAAO,KAAK;4BACjB,IAAI;4BACJ,WAAU;4BACV,OAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpB"}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kahon/Downloads/recipe-website-with-api/components/about.tsx"],"sourcesContent":["export default function About() {\n  return (\n    <section className=\"py-16 bg-background\">\n      <div className=\"max-w-6xl mx-auto px-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-12 items-center mb-16\">\n          <div className=\"relative h-80 rounded-lg overflow-hidden bg-muted\">\n            <div className=\"w-full h-full bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center\">\n              <div className=\"text-center text-muted-foreground\">\n                <p className=\"text-sm\">Chef Image</p>\n              </div>\n            </div>\n          </div>\n\n          <div>\n            <h2 className=\"text-3xl md:text-4xl font-serif font-bold text-foreground mb-4 text-balance\">\n              Welcome, I'm Olive!\n            </h2>\n            <p className=\"text-xs text-muted-foreground font-medium uppercase tracking-widest mb-4\">\n              RECIPE DEVELOPER, BRUNCH DEVOTEE, UKC NATIVE\n            </p>\n            <p className=\"text-foreground/80 mb-8 leading-relaxed text-sm\">\n              I'm a recipe creator who's passionate about making healthy eating feel fresh, flavorful, and fun. Inspired\n              by my garden, travels, and love of simple, joyful living, I share easy, wholesome recipes you'll actually\n              look forward to making.\n            </p>\n            <div className=\"flex gap-4\">\n              <button className=\"px-6 py-2 bg-primary text-primary-foreground font-medium text-sm hover:bg-primary/90 transition\">\n                GET TO KNOW ME\n              </button>\n              <button className=\"px-6 py-2 border border-primary text-primary font-medium text-sm hover:bg-primary/10 transition\">\n                SHOP MY FAVES\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"py-12 border-y border-border\">\n          <p className=\"text-xs text-muted-foreground font-medium uppercase tracking-widest text-center mb-8\">\n            As seen in\n          </p>\n          <div className=\"flex flex-wrap justify-center items-center gap-8\">\n            <span className=\"font-semibold text-foreground/60\">COSMOPOLITAN</span>\n            <span className=\"font-semibold text-foreground/60\">GOOD HOUSEKEEPING</span>\n            <span className=\"font-semibold text-foreground/60\">POPSUGAR</span>\n            <span className=\"font-semibold text-foreground/60\">DELISH</span>\n            <span className=\"font-semibold text-foreground/60\">BUZZFEED</span>\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS;IACtB,qBACE,8OAAC;QAAQ,WAAU;kBACjB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAE,WAAU;kDAAU;;;;;;;;;;;;;;;;;;;;;sCAK7B,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA8E;;;;;;8CAG5F,8OAAC;oCAAE,WAAU;8CAA2E;;;;;;8CAGxF,8OAAC;oCAAE,WAAU;8CAAkD;;;;;;8CAK/D,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAO,WAAU;sDAAkG;;;;;;sDAGpH,8OAAC;4CAAO,WAAU;sDAAkG;;;;;;;;;;;;;;;;;;;;;;;;8BAO1H,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAuF;;;;;;sCAGpG,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAAmC;;;;;;8CACnD,8OAAC;oCAAK,WAAU;8CAAmC;;;;;;8CACnD,8OAAC;oCAAK,WAAU;8CAAmC;;;;;;8CACnD,8OAAC;oCAAK,WAAU;8CAAmC;;;;;;8CACnD,8OAAC;oCAAK,WAAU;8CAAmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM/D"}},
    {"offset": {"line": 674, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kahon/Downloads/recipe-website-with-api/components/category-carousel.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/category-carousel.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/category-carousel.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoS,GACjU,kEACA","ignoreList":[0]}},
    {"offset": {"line": 688, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kahon/Downloads/recipe-website-with-api/components/category-carousel.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/category-carousel.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/category-carousel.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","ignoreList":[0]}},
    {"offset": {"line": 702, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 722, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kahon/Downloads/recipe-website-with-api/lib/csv-parser.ts"],"sourcesContent":["import { promises as fs } from \"fs\"\nimport path from \"node:path\"\nimport { cache } from \"react\"\n\nexport interface Recipe {\n  id: string\n  title: string\n  description: string\n  url: string\n  rating: number | null\n  primaryCategory: string\n  cuisineTrail: string[]\n  prepTime: string\n  cookTime: string\n  totalTime: string\n  prepMinutes: number | null\n  cookMinutes: number | null\n  totalMinutes: number | null\n  servings: string\n  yield: string\n  ingredients: string[]\n  directions: string[]\n  nutrition: string\n  image: string\n  author: string\n  tags: string[]\n  diet: string\n  course: string\n}\n\ntype RawRecipe = Record<string, string>\n\nconst HEADER_ALIASES: Record<string, string> = {\n  recipe_title: \"recipe_name\",\n  image: \"img_src\",\n  picture: \"img_src\",\n  description_text: \"description\",\n}\n\nconst DATASET_PATH = path.join(process.cwd(), \"recipes.csv\")\n\nexport const getRecipes = cache(async (): Promise<Recipe[]> => {\n  try {\n    const csvText = await fs.readFile(DATASET_PATH, \"utf-8\")\n    return parseCSV(csvText)\n  } catch (error) {\n    console.error(\"Error loading recipes.csv:\", error)\n    return []\n  }\n})\n\nexport function parseCSV(csvText: string): Recipe[] {\n  const rows = tokenizeCSV(csvText)\n  if (rows.length === 0) return []\n\n  const headers = rows[0].map((header, index) => normalizeHeader(header, index))\n  const recipes: Recipe[] = []\n\n  for (let i = 1; i < rows.length; i++) {\n    const row = rows[i]\n    if (!row.some((value) => value && value.trim().length > 0)) continue\n\n    const raw: RawRecipe = {}\n    headers.forEach((header, index) => {\n      const value = row[index] ?? \"\"\n      if (header) {\n        raw[header] = value.trim()\n      }\n    })\n\n    const recipe = normalizeRecipe(raw, i)\n    if (recipe) {\n      recipes.push(recipe)\n    }\n  }\n\n  return recipes\n}\n\nfunction tokenizeCSV(text: string): string[][] {\n  const rows: string[][] = []\n  let field = \"\"\n  let row: string[] = []\n  let insideQuotes = false\n\n  for (let i = 0; i < text.length; i++) {\n    const char = text[i]\n    const nextChar = text[i + 1]\n\n    if (char === '\"') {\n      if (insideQuotes && nextChar === '\"') {\n        field += '\"'\n        i++\n      } else {\n        insideQuotes = !insideQuotes\n      }\n      continue\n    }\n\n    if (!insideQuotes && (char === \"\\n\" || char === \"\\r\")) {\n      if (char === \"\\r\" && nextChar === \"\\n\") {\n        i++\n      }\n      row.push(field)\n      rows.push(row)\n      field = \"\"\n      row = []\n      continue\n    }\n\n    if (char === \",\" && !insideQuotes) {\n      row.push(field)\n      field = \"\"\n      continue\n    }\n\n    field += char\n  }\n\n  if (field.length > 0 || row.length > 0) {\n    row.push(field)\n    rows.push(row)\n  }\n\n  return rows\n}\n\nfunction normalizeHeader(rawHeader: string, index: number): string {\n  const cleaned = (rawHeader ?? \"\").replace(/^\\uFEFF/, \"\").trim().toLowerCase()\n  if (!cleaned) {\n    return index === 0 ? \"id\" : \"\"\n  }\n\n  return HEADER_ALIASES[cleaned] ?? cleaned\n}\n\nfunction normalizeRecipe(raw: RawRecipe, fallbackIndex: number): Recipe | null {\n  const title = raw.recipe_name || raw.recipe_title\n  if (!title) return null\n\n  const cuisineTrail = buildCuisineTrail(raw.cuisine_path, raw.cuisine, raw.category)\n  const primaryCategory =\n    raw.category ||\n    raw.course ||\n    cuisineTrail[0] ||\n    \"Everyday Favorites\"\n\n  const rating = parseRating(raw.rating)\n  const ingredients = splitList(raw.ingredients)\n  const directions = splitDirections(raw.directions || raw.instructions)\n  const description = buildDescription(raw.description, directions)\n\n  return {\n    id: raw.id || String(fallbackIndex),\n    title,\n    description,\n    url: raw.url || \"#\",\n    rating,\n    primaryCategory,\n    cuisineTrail,\n    prepTime: raw.prep_time || \"\",\n    cookTime: raw.cook_time || \"\",\n    totalTime: raw.total_time || raw.timing || \"\",\n    prepMinutes: parseDuration(raw.prep_time),\n    cookMinutes: parseDuration(raw.cook_time),\n    totalMinutes: parseDuration(raw.total_time) ?? sumDurations(parseDuration(raw.prep_time), parseDuration(raw.cook_time)),\n    servings: raw.servings || \"\",\n    yield: raw.yield || \"\",\n    ingredients,\n    directions,\n    nutrition: raw.nutrition || \"\",\n    image: raw.img_src || \"/placeholder.jpg\",\n    author: raw.author || \"\",\n    tags: splitTags(raw.tags),\n    diet: raw.diet || \"\",\n    course: raw.course || \"\",\n  }\n}\n\nfunction parseRating(value?: string): number | null {\n  if (!value) return null\n  const parsed = Number.parseFloat(value)\n  return Number.isFinite(parsed) ? parsed : null\n}\n\nfunction parseDuration(value?: string): number | null {\n  if (!value) return null\n  const normalized = value.toLowerCase()\n  const regex = /(\\d+)\\s*(hours?|hrs?|hr|h|minutes?|mins?|min|m)\\b/g\n  let match: RegExpExecArray | null\n  let total = 0\n\n  while ((match = regex.exec(normalized))) {\n    const amount = Number.parseInt(match[1], 10)\n    const unit = match[2]\n    if (Number.isNaN(amount)) continue\n    if (unit.startsWith(\"h\") || unit.startsWith(\"hr\")) {\n      total += amount * 60\n    } else {\n      total += amount\n    }\n  }\n\n  return total > 0 ? total : null\n}\n\nfunction sumDurations(...values: Array<number | null | undefined>): number | null {\n  const total = values.reduce((acc, value) => (value ? acc + value : acc), 0)\n  return total > 0 ? total : null\n}\n\nfunction splitList(value?: string): string[] {\n  if (!value) return []\n  return value\n    .split(/[\\n|,]/)\n    .map((item) => item.replace(/[\"']/g, \"\").trim())\n    .filter(Boolean)\n}\n\nfunction splitDirections(value?: string): string[] {\n  if (!value) return []\n  return value\n    .split(/\\r?\\n+/)\n    .map((line) => line.replace(/[\"']/g, \"\").trim())\n    .filter(Boolean)\n}\n\nfunction splitTags(value?: string): string[] {\n  if (!value) return []\n  return value\n    .split(/[|,]/)\n    .map((tag) => tag.trim())\n    .filter(Boolean)\n}\n\nfunction buildCuisineTrail(...values: Array<string | undefined>): string[] {\n  for (const value of values) {\n    if (value && value.includes(\"/\")) {\n      const parts = value.split(\"/\").map((part) => part.trim()).filter(Boolean)\n      if (parts.length > 0) {\n        return parts\n      }\n    }\n  }\n\n  return values\n    .map((value) => value?.trim())\n    .filter((value): value is string => Boolean(value))\n}\n\nfunction buildDescription(description?: string, directions: string[] = []): string {\n  if (description) return description\n  if (directions.length === 0) return \"\"\n  return directions[0]\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 913, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kahon/Downloads/recipe-website-with-api/lib/wikimedia.ts"],"sourcesContent":["import type { Recipe } from \"@/lib/csv-parser\"\r\n\r\nconst API_ENDPOINT = \"https://api.wikimedia.org/core/v1/wikipedia/en/search/page\"\r\nconst DEFAULT_PLACEHOLDER = \"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg\"\r\nconst USER_AGENT = \"recipe-website-demo/1.0 (contact@recipe-app.local)\"\r\n\r\ntype WikimediaThumbnail = {\r\n  url: string\r\n}\r\n\r\ntype WikimediaPage = {\r\n  title: string\r\n  thumbnail?: WikimediaThumbnail\r\n  originalimage?: { source: string }\r\n  content_urls?: {\r\n    desktop?: { page?: string }\r\n  }\r\n}\r\n\r\ntype WikimediaResponse = {\r\n  pages?: WikimediaPage[]\r\n}\r\n\r\nconst imageCache = new Map<string, string | null>()\r\n\r\nexport async function getWikimediaImage(query: string): Promise<string | null> {\r\n  const normalized = query.trim().toLowerCase()\r\n  if (!normalized) return null\r\n  if (imageCache.has(normalized)) {\r\n    return imageCache.get(normalized) ?? null\r\n  }\r\n\r\n  try {\r\n    const url = `${API_ENDPOINT}?q=${encodeURIComponent(query)}&limit=1`\r\n    const response = await fetch(url, {\r\n      headers: {\r\n        \"User-Agent\": USER_AGENT,\r\n        \"Api-User-Agent\": USER_AGENT,\r\n      },\r\n      next: { revalidate: 60 * 60 * 12 },\r\n    })\r\n\r\n    if (!response.ok) {\r\n      imageCache.set(normalized, null)\r\n      return null\r\n    }\r\n\r\n    const data = (await response.json()) as WikimediaResponse\r\n    const page = data.pages?.[0]\r\n    const imageUrl =\r\n      page?.thumbnail?.url ??\r\n      page?.originalimage?.source ??\r\n      buildFallbackFromContentUrl(page?.content_urls?.desktop?.page)\r\n\r\n    imageCache.set(normalized, imageUrl ?? null)\r\n    return imageUrl ?? null\r\n  } catch (error) {\r\n    console.error(\"Error fetching Wikimedia image:\", error)\r\n    imageCache.set(normalized, null)\r\n    return null\r\n  }\r\n}\r\n\r\nfunction buildFallbackFromContentUrl(url?: string): string | null {\r\n  if (!url) return null\r\n  try {\r\n    const title = url.split(\"/\").pop()\r\n    if (!title) return null\r\n    return `https://commons.wikimedia.org/wiki/Special:FilePath/${title}.jpg`\r\n  } catch {\r\n    return null\r\n  }\r\n}\r\n\r\ninterface AssignOptions {\r\n  limit?: number\r\n  fallback?: string\r\n  queryFormatter?: (recipe: Recipe) => string\r\n}\r\n\r\nexport async function assignWikimediaImages(recipes: Recipe[], options?: AssignOptions): Promise<void> {\r\n  if (!recipes || recipes.length === 0) return\r\n\r\n  const { limit = recipes.length, fallback = DEFAULT_PLACEHOLDER, queryFormatter } = options ?? {}\r\n  const uniqueRecipes = getUniqueRecipes(recipes).slice(0, limit)\r\n\r\n  const concurrency = 6\r\n  for (let i = 0; i < uniqueRecipes.length; i += concurrency) {\r\n    const chunk = uniqueRecipes.slice(i, i + concurrency)\r\n    await Promise.all(\r\n      chunk.map(async (recipe) => {\r\n        const query = queryFormatter ? queryFormatter(recipe) : `${recipe.title} food`\r\n        const wikimediaImage = await getWikimediaImage(query)\r\n        if (wikimediaImage) {\r\n          recipe.image = wikimediaImage\r\n        } else if (!recipe.image || recipe.image.includes(\"placeholder\")) {\r\n          recipe.image = fallback\r\n        }\r\n      })\r\n    )\r\n  }\r\n}\r\n\r\nfunction getUniqueRecipes(recipes: Recipe[]): Recipe[] {\r\n  const map = new Map<string, Recipe>()\r\n  recipes.forEach((recipe) => {\r\n    map.set(recipe.id, recipe)\r\n  })\r\n  return [...map.values()]\r\n}\r\n\r\nexport function getPlaceholderImage(): string {\r\n  return DEFAULT_PLACEHOLDER\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;AAEA,MAAM,eAAe;AACrB,MAAM,sBAAsB;AAC5B,MAAM,aAAa;AAmBnB,MAAM,aAAa,IAAI;AAEhB,eAAe,kBAAkB,KAAa;IACnD,MAAM,aAAa,MAAM,IAAI,GAAG,WAAW;IAC3C,IAAI,CAAC,YAAY,OAAO;IACxB,IAAI,WAAW,GAAG,CAAC,aAAa;QAC9B,OAAO,WAAW,GAAG,CAAC,eAAe;IACvC;IAEA,IAAI;QACF,MAAM,MAAM,GAAG,aAAa,GAAG,EAAE,mBAAmB,OAAO,QAAQ,CAAC;QACpE,MAAM,WAAW,MAAM,MAAM,KAAK;YAChC,SAAS;gBACP,cAAc;gBACd,kBAAkB;YACpB;YACA,MAAM;gBAAE,YAAY,KAAK,KAAK;YAAG;QACnC;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,WAAW,GAAG,CAAC,YAAY;YAC3B,OAAO;QACT;QAEA,MAAM,OAAQ,MAAM,SAAS,IAAI;QACjC,MAAM,OAAO,KAAK,KAAK,EAAE,CAAC,EAAE;QAC5B,MAAM,WACJ,MAAM,WAAW,OACjB,MAAM,eAAe,UACrB,4BAA4B,MAAM,cAAc,SAAS;QAE3D,WAAW,GAAG,CAAC,YAAY,YAAY;QACvC,OAAO,YAAY;IACrB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,WAAW,GAAG,CAAC,YAAY;QAC3B,OAAO;IACT;AACF;AAEA,SAAS,4BAA4B,GAAY;IAC/C,IAAI,CAAC,KAAK,OAAO;IACjB,IAAI;QACF,MAAM,QAAQ,IAAI,KAAK,CAAC,KAAK,GAAG;QAChC,IAAI,CAAC,OAAO,OAAO;QACnB,OAAO,CAAC,oDAAoD,EAAE,MAAM,IAAI,CAAC;IAC3E,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAQO,eAAe,sBAAsB,OAAiB,EAAE,OAAuB;IACpF,IAAI,CAAC,WAAW,QAAQ,MAAM,KAAK,GAAG;IAEtC,MAAM,EAAE,QAAQ,QAAQ,MAAM,EAAE,WAAW,mBAAmB,EAAE,cAAc,EAAE,GAAG,WAAW,CAAC;IAC/F,MAAM,gBAAgB,iBAAiB,SAAS,KAAK,CAAC,GAAG;IAEzD,MAAM,cAAc;IACpB,IAAK,IAAI,IAAI,GAAG,IAAI,cAAc,MAAM,EAAE,KAAK,YAAa;QAC1D,MAAM,QAAQ,cAAc,KAAK,CAAC,GAAG,IAAI;QACzC,MAAM,QAAQ,GAAG,CACf,MAAM,GAAG,CAAC,OAAO;YACf,MAAM,QAAQ,iBAAiB,eAAe,UAAU,GAAG,OAAO,KAAK,CAAC,KAAK,CAAC;YAC9E,MAAM,iBAAiB,MAAM,kBAAkB;YAC/C,IAAI,gBAAgB;gBAClB,OAAO,KAAK,GAAG;YACjB,OAAO,IAAI,CAAC,OAAO,KAAK,IAAI,OAAO,KAAK,CAAC,QAAQ,CAAC,gBAAgB;gBAChE,OAAO,KAAK,GAAG;YACjB;QACF;IAEJ;AACF;AAEA,SAAS,iBAAiB,OAAiB;IACzC,MAAM,MAAM,IAAI;IAChB,QAAQ,OAAO,CAAC,CAAC;QACf,IAAI,GAAG,CAAC,OAAO,EAAE,EAAE;IACrB;IACA,OAAO;WAAI,IAAI,MAAM;KAAG;AAC1B;AAEO,SAAS;IACd,OAAO;AACT"}},
    {"offset": {"line": 1001, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kahon/Downloads/recipe-website-with-api/app/page.tsx"],"sourcesContent":["import Header from \"@/components/header\"\nimport Hero from \"@/components/hero\"\nimport FeaturedRecipes from \"@/components/featured-recipes\"\nimport RecipeOfMonth from \"@/components/recipe-of-month\"\nimport BrowseSection from \"@/components/browse-section\"\nimport CategoryCarousel from \"@/components/category-carousel\"\nimport About from \"@/components/about\"\nimport CategoryCarouselComponent, { type CategoryHighlight } from \"@/components/category-carousel\"\nimport { getRecipes, type Recipe } from \"@/lib/csv-parser\"\nimport { assignWikimediaImages, getPlaceholderImage, getWikimediaImage } from \"@/lib/wikimedia\"\n\nfunction getFeaturedRecipes(recipes: Recipe[]): Recipe[] {\n  return [...recipes]\n    .filter((recipe) => typeof recipe.rating === \"number\")\n    .sort((a, b) => (b.rating ?? 0) - (a.rating ?? 0))\n    .slice(0, 4)\n}\n\nfunction getRecipeOfMonth(recipes: Recipe[]): Recipe | null {\n  if (recipes.length === 0) return null\n  const sorted = [...recipes].sort((a, b) => {\n    const ratingDiff = (b.rating ?? 0) - (a.rating ?? 0)\n    if (ratingDiff !== 0) return ratingDiff\n    return (a.totalMinutes ?? Number.MAX_SAFE_INTEGER) - (b.totalMinutes ?? Number.MAX_SAFE_INTEGER)\n  })\n  return sorted[0] ?? null\n}\n\nasync function buildCategoryHighlights(recipes: Recipe[]): Promise<CategoryHighlight[]> {\n  const map = new Map<string, { count: number; image: string }>()\n\n  recipes.forEach((recipe) => {\n    const key = recipe.primaryCategory || \"Recipes\"\n    const existing = map.get(key)\n    if (existing) {\n      existing.count += 1\n      if (existing.image.includes(\"placeholder\") && !recipe.image.includes(\"placeholder\")) {\n        existing.image = recipe.image\n      }\n    } else {\n      map.set(key, { count: 1, image: recipe.image })\n    }\n  })\n\n  const highlights = [...map.entries()]\n    .map(([name, value]) => ({\n      name,\n      count: value.count,\n      image: value.image,\n    }))\n    .sort((a, b) => b.count - a.count)\n    .slice(0, 10)\n\n  await Promise.all(\n    highlights.map(async (highlight) => {\n      if (!highlight.image || highlight.image.includes(\"placeholder\") || highlight.image.startsWith(\"/\")) {\n        const wikimediaImage = await getWikimediaImage(`${highlight.name} food dish`)\n        highlight.image = wikimediaImage ?? getPlaceholderImage()\n      }\n    })\n  )\n\n  return highlights\n}\n\nfunction getAverageRating(recipes: Recipe[]): number | null {\n  const ratings = recipes.map((recipe) => recipe.rating).filter((value): value is number => typeof value === \"number\")\n  if (ratings.length === 0) return null\n  const total = ratings.reduce((sum, rating) => sum + rating, 0)\n  return Number((total / ratings.length).toFixed(1))\n}\n\nexport default async function Home() {\n  const recipes = await getRecipes()\n  const featuredRecipes = getFeaturedRecipes(recipes)\n  const recipeOfMonth = getRecipeOfMonth(recipes)\n  const averageRating = getAverageRating(recipes)\n  const browseRecipes = recipes.slice(0, 60)\n  const recipesNeedingImages = new Map<string, Recipe>()\n\n  featuredRecipes.forEach((recipe) => recipesNeedingImages.set(recipe.id, recipe))\n  browseRecipes.forEach((recipe) => recipesNeedingImages.set(recipe.id, recipe))\n  if (recipeOfMonth) {\n    recipesNeedingImages.set(recipeOfMonth.id, recipeOfMonth)\n  }\n\n  await assignWikimediaImages([...recipesNeedingImages.values()], { limit: recipesNeedingImages.size })\n  const categoryHighlights = await buildCategoryHighlights(recipes)\n\n  return (\n    <main className=\"min-h-screen bg-background text-foreground\">\n      <Header />\n      <Hero totalRecipes={recipes.length} topCategory={categoryHighlights[0]?.name} averageRating={averageRating ?? undefined} />\n      <FeaturedRecipes recipes={featuredRecipes.length > 0 ? featuredRecipes : recipes.slice(0, 4)} />\n      {recipeOfMonth && <RecipeOfMonth recipe={recipeOfMonth} />}\n      <BrowseSection recipes={browseRecipes} />\n      {categoryHighlights.length > 0 && <CategoryCarouselComponent categories={categoryHighlights} />}\n      <About />\n    </main>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}